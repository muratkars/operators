name: "openebs"
version: "0.3.0"
kudoVersion: ">= 0.5.0"
kubernetesVersion: ">=1.15.0"
appVersion: 1.3.0
maintainers:
  - name: Murat Karslioglu
    email: murat@mayadata.io
url: https://openebs.io/
tasks:
  - name: deploy
    kind: Apply
    spec:
      resources:
      - clusterrole.yaml
      - clusterrolebinding.yaml
      - cm-node-disk-manager.yaml
      - daemonset-ndm.yaml
      - deployment-admission-server.yaml
      - deployment-local-provisioner.yaml
      - deployment-maya-apiserver.yaml
      - deployment-maya-provisioner.yaml
      - deployment-maya-snapshot-operator.yaml
      - deployment-ndm-operator.yaml
      - service-admission-server.yaml
      - service-maya-apiserver.yaml
      - serviceaccount.yaml
      - validationwebhook.yaml
  - name: update
    kind: Apply
    spec:
      resources:
      - clusterrole.yaml
      - clusterrolebinding.yaml
      - cm-node-disk-manager.yaml
      - daemonset-ndm.yaml
      - deployment-admission-server.yaml
      - deployment-local-provisioner.yaml
      - deployment-maya-apiserver.yaml
      - deployment-maya-provisioner.yaml
      - deployment-maya-snapshot-operator.yaml
      - deployment-ndm-operator.yaml
      - service-admission-server.yaml
      - service-maya-apiserver.yaml
      - serviceaccount.yaml
      - validationwebhook.yaml
  - name: not-allowed
    kind: Apply
    spec:
      resources:

plans:
  deploy:
    strategy: serial
    phases:
      - name: deploy-openebs
        strategy: parallel
        steps:
          - name: deploy
            tasks:
              - deploy
  # this plan is triggered when some parameter present in limitations is updated
  # https://github.com/kudobuilder/operators/blob/master/repository/kafka/docs/latest/limitations.md
  not-allowed:
    strategy: serial
    phases:
    - name: not-allowed
      strategy: serial
      steps:
        - name: not-allowed
          tasks:
          - not-allowed
